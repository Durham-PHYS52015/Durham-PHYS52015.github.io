<!doctype html><html lang=en dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="ssh tips & tricks #  Setting up simpler logins #  It can be tedious to remember to type long login commands every time when logging in via ssh to hamilton. I therefore recommend that you set up an ssh config file.
Additionally, you might also want to set up ssh keys for passwordless login.
The ssh-config configuration file #  Mac/Linux When you run ssh it reads a configuration file at $HOME/.">
<meta name=theme-color content="#FFFFFF"><meta property="og:title" content="ssh configuration">
<meta property="og:description" content="ssh tips & tricks #  Setting up simpler logins #  It can be tedious to remember to type long login commands every time when logging in via ssh to hamilton. I therefore recommend that you set up an ssh config file.
Additionally, you might also want to set up ssh keys for passwordless login.
The ssh-config configuration file #  Mac/Linux When you run ssh it reads a configuration file at $HOME/.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://durham-phys52015.github.io/setup/configuration/"><meta property="article:section" content="setup">
<meta property="article:modified_time" content="2022-03-03T14:52:34+00:00">
<title>ssh configuration | PHYS52015 – Introduction to HPC</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.b85762cbec3aa7dfc1fa14ce1d900668d26349753560425c37dac8f9e08407d6.css integrity="sha256-uFdiy+w6p9/B+hTOHZAGaNJjSXU1YEJcN9rI+eCEB9Y=">
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<nav>
<div class=book-brand><img class=book-center src=/logo.svg alt=Logo><h2>
<a href=/>
PHYS52015 – Introduction to HPC
</a>
</h2>
</div>
<ul>
<li>
<span>Administrivia</span>
<ul>
<li>
<a href=/setup/remote/>Remote editing/development</a>
</li>
<li>
<a href=/setup/hamilton-quickstart/>Hamilton access & quickstart</a>
</li>
<li>
<a href=/setup/byod/>Local setup</a>
</li>
<li>
<a href=/setup/configuration/ class=active>ssh configuration</a>
</li>
<li>
<a href=/setup/unix/>Unix resources</a>
</li>
</ul>
</li>
<li>
<span>Exercises</span>
<ul>
<li>
<a href=/exercises/hello/>Parallel Hello World</a>
</li>
<li>
<a href=/exercises/openmp-loop/>OpenMP: parallel loops</a>
</li>
<li>
<a href=/exercises/openmp-stencil/>OpenMP: stencils</a>
</li>
<li>
<a href=/exercises/openmp-reduction/>OpenMP: synchronisation</a>
</li>
<li>
<a href=/exercises/mpi-ring/>MPI: messages round a ring</a>
</li>
<li>
<a href=/exercises/mpi-pi/>MPI: Calculating π</a>
</li>
<li>
<a href=/exercises/mpi-ping-pong/>MPI: ping-pong latency</a>
</li>
<li>
<a href=/exercises/mpi-collectives/>MPI: simple collectives</a>
</li>
<li>
<a href=/exercises/mpi-stencil/>MPI: domain decomposition and halo exchanges</a>
</li>
</ul>
</li>
<li>
<a href=/coursework/>Coursework: stencils and collectives</a>
</li>
<li>
<span>Notes</span>
<ul>
<li>
<a href=/notes/introduction/>Introduction and motivation</a>
</li>
<li>
<span>Theory & concepts</span>
<ul>
<li>
<a href=/notes/theory/scaling-laws/>Parallel scaling laws</a>
</li>
<li>
<a href=/notes/theory/hardware-parallelism/>Parallelism in hardware: an overview</a>
</li>
<li>
<a href=/notes/theory/concepts/>Parallel patterns</a>
</li>
</ul>
</li>
<li>
<a href=/notes/openmp/>OpenMP</a>
<ul>
<li>
<a href=/notes/openmp/intro/>What is OpenMP?</a>
</li>
<li>
<a href=/notes/openmp/loop-parallelism/>Loop parallelism</a>
</li>
<li>
<a href=/notes/openmp/collectives/>Collectives</a>
</li>
</ul>
</li>
<li>
<a href=/notes/mpi/>MPI</a>
<ul>
<li>
<a href=/notes/mpi/point-to-point/>Point-to-point messaging in MPI</a>
</li>
<li>
<a href=/notes/mpi/point-to-point-nb/>Non-blocking point-to-point messaging</a>
</li>
<li>
<a href=/notes/mpi/collectives/>Collectives</a>
</li>
<li>
<a href=/notes/mpi/advanced/>Advanced topics</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=/resources/>Further resources</a>
</li>
<li>
<a href=/acknowledgements/>Acknowledgements</a>
</li>
<li>
<span>Past editions</span>
<ul>
<li>
<span>2020/21</span>
<ul>
<li>
<a href=/past-editions/2020-21/coursework/>Coursework: parallel dense linear algebra</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>ssh configuration</strong>
<label for=toc-control>
<img src=/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li><a href=#setting-up-simpler-logins>Setting up simpler logins</a>
<ul>
<li><a href=#the-ssh-config-configuration-file>The <code>ssh-config</code> configuration file</a></li>
<li><a href=#passwordless-login-with-ssh-keys>Passwordless login with ssh keys</a></li>
</ul>
</li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><h1 id=ssh-tips--tricks>
<code>ssh</code> tips & tricks
<a class=anchor href=#ssh-tips--tricks>#</a>
</h1>
<h2 id=setting-up-simpler-logins>
Setting up simpler logins
<a class=anchor href=#setting-up-simpler-logins>#</a>
</h2>
<p>It can be tedious to remember to type long login commands every time
when logging in via ssh to hamilton. I therefore recommend
that you set up an ssh config file.</p>
<p>Additionally, you might also want to set up ssh keys for passwordless
login.</p>
<h3 id=the-ssh-config-configuration-file>
The <code>ssh-config</code> configuration file
<a class=anchor href=#the-ssh-config-configuration-file>#</a>
</h3>
<div class=book-tabs><input type=radio class=toggle name="tabs-%!s(<nil>)" id="tabs-%!s(<nil>)-0" checked>
<label for="tabs-%!s(<nil>)-0">Mac/Linux</label>
<div class="book-tabs-content markdown-inner">When you run <code>ssh</code> it reads a configuration file at
<code>$HOME/.ssh/config</code>. This file
contains configuration commands that the ssh client applies. For full
details, see <a href=https://linux.die.net/man/5/ssh_config>the
documentation</a>.</div><input type=radio class=toggle name="tabs-%!s(<nil>)" id="tabs-%!s(<nil>)-1">
<label for="tabs-%!s(<nil>)-1">Windows</label>
<div class="book-tabs-content markdown-inner">When you run <code>ssh</code> it reads a configuration file at
<code>C:\Users\yourusername\.ssh\config</code>. This file
contains configuration commands that the ssh client applies. For full
details, see <a href=https://linux.die.net/man/5/ssh_config>the
documentation</a>.</div></div>
<p>We will just add some configuration to make it simpler to access
Hamilton. To do so, we add a configuration block that contains</p>
<pre tabindex=0><code class=language-config data-lang=config>Host hamilton
  HostName hamilton.dur.ac.uk
  User YOURUSERNAME
</code></pre><p>Having done so, you can now write <code>ssh hamilton</code> instead of <code>ssh YOURUSERNAME@hamilton.dur.ac.uk</code>.</p>
<h3 id=passwordless-login-with-ssh-keys>
Passwordless login with ssh keys
<a class=anchor href=#passwordless-login-with-ssh-keys>#</a>
</h3>
<p>This bit is somewhat more complicated to get right, so if you&rsquo;re happy
with the shortened login, you could just stop.</p>
<p>As well as permitting login with a password, ssh allows login via
public key authentication. To work, your local machine must have a
keypair, and any remote machine you wish to log in to must have the
public key.</p>
<p>A minimal sequence of instructions is to generate a keypair on
your local machine with</p>
<div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa><code class=language-sh data-lang=sh>$ ssh-keygen -t rsa -b <span style=color:#ae81ff>4096</span> -C <span style=color:#d88200>&#34;YOUREMAIL@ADDRESS&#34;</span>
</code></pre></div><blockquote class="book-hint info">
Here, and elsewhere in the notes, the <code>$</code> indicates the shell prompt.
You should not type it.
</blockquote>
<p>This will prompt you for a <em>passphrase</em>. <strong>DO NOT LEAVE IT BLANK</strong>,
since without a passphrase, anyone with the private key can log in as
you!</p>
<p>Next, you must copy the <em>public</em> key to the server you wish to log in
to. You can do this (assuming you set up your ssh config as above)
with <code>ssh-copy-id hamilton</code>.</p>
<p>Now, when you log in, you&rsquo;ll be prompted for the passphrase
for the private key before being asked for your password.
This may not seem like an advantage, but you can set up an
ssh-agent that saves the passphrases on your machine for the
duration of a login session.</p>
<p>Getting the agent setup continues to be complicated, although possibly
your system just does it by magic. GitHub have a <a href=https://help.github.com/en/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#adding-your-ssh-key-to-the-ssh-agent>useful
guide</a>
(ignore the github-specific bits). On Mac, <a href=https://apple.stackexchange.com/questions/48502/how-can-i-permanently-add-my-ssh-private-key-to-keychain-so-it-is-automatically>this stackexchange
question</a>
has some tips.</p>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
<div><a class="flex align-center" href=https://github.com/Durham-PHYS52015/Durham-PHYS52015.github.io/commit/80e39a5a977842f89b17cfee95787f4886404c7e title="Last modified by Lawrence Mitchell | March 3, 2022" target=_blank rel=noopener>
<img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 3, 2022</span>
</a>
</div>
<div>
<a class="flex align-center" href=https://github.com/Durham-PHYS52015/Durham-PHYS52015.github.io/edit/main/site/content/setup/configuration.md target=_blank rel=noopener>
<img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span>
</a>
</div>
</div>
<div class="flex flex-wrap align-right">
<p>
© 2020&ndash; <a href=mailto:lawrence.mitchell@durham.ac.uk>Lawrence Mitchell</a>, <a href=https://www.ippp.dur.ac.uk/~hschulz/>Holger Schulz</a>, <a href="https://www.dur.ac.uk/physics/staff/profiles/?mode=staff&id=16712">Christian Arnold</a> & <a href=https://www.dur.ac.uk/>Durham University</a>.
</p>
<p>
<a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>
<img alt="Creative Commons License" style=border-width:0 src=/cc-by-sa.svg>
</a>
This work is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>Creative
Commons Attribution-ShareAlike 4.0 International License</a>.
</p>
</div>
</footer>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<nav id=TableOfContents>
<ul>
<li><a href=#setting-up-simpler-logins>Setting up simpler logins</a>
<ul>
<li><a href=#the-ssh-config-configuration-file>The <code>ssh-config</code> configuration file</a></li>
<li><a href=#passwordless-login-with-ssh-keys>Passwordless login with ssh keys</a></li>
</ul>
</li>
</ul>
</nav>
</aside>
</main>
</body>
</html>